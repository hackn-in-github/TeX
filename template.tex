%#!lualatex -synctex=1 filename
%#!lualatex --jobname=前期/filename-fig filename
%#!xelatex -synctex=1 filename
%#!xelatex --jobname=前期/filename-fig filename
%#!uplatex -shell-escape filename
%#!uplatex filename
%#LPR dvipdfmx -p a4 -r 1200 filename
% #LPR dvips -Ppdf -f filename.dvi | lpr
%#MAKEINDEX mendex -g -s mystyle.ist filename
%#!platex -shell-escape filename
%#!platex filename
%%% sudo tlmgr update --self --all
%\documentclass[a4j,xelatex,ja=standard,magstyle=nomag*]{bxjsreport}% ドライバ指定は無し
%\XeTeXgenerateactualtext=1 %PDF ファイルの検索やコピー & ペーストがうまく動作しない場合指定
%\RequirePackage{luatex85}%\pdfナントカでエラーになったときに必要ってか02/01/2017時点で必要
%hyperrefを新しい物にして不要になる
\documentclass[a4j,lualatex,ja=standard,magstyle=nomag*]{bxjsreport}% ドライバ指定は無し
\setpagelayout{margin=20mm}%余白を若干狭く
\usepackage{metalogo}% \XeLaTeX ロゴのため
%% XeLaTeX
%\usepackage{zxjatype}
%\setjamainfont[BoldFont=IPAexGothic]{IPAexMincho}
%\setjasansfont{IPAexGothic}
%\setmonofont{IPAexGothic}
%\setjamainfont[BoldFont=MogaMinExB]{MogaMinEx}
%\setjasansfont{MogaGoEx}
%\setmonofont{MogaGo}
%\setjmainfont[BoldFont=SourceHanSerifJP-Bold]{SourceHanSerifJP-Light}
%\setjsansfont{SourceHanSansJP-Light}
%\setmonofont{SourceCodePro-Light}
%\setjamainfont[BoldFont=YOzNb]{YOzN}
%\setjasansfont{YOzNb}
%\setmonofont{YOzNF}
%\setjamainfont[BoldFont=Ume P Gothic]{Ume P Mincho}
%\setjasansfont{Ume P Gothic}
%\setmonofont{Ume Gothic}
%\setjamainfont[BoldFont=TakaoPGothic]{TakaoPMincho}
%\setjasansfont{TakaoPGothic}
%\setmonofont{TakaoGothic}
%\setjamainfont[BoldFont=mikachan-PB]{mikachan-P}
%\setjasansfont{mikachan-PB}
%\setmonofont{mikachan}
%\setjamainfont{Migu 1P}
%\setjasansfont{Migu 1P}
%\setmonofont{Migu 1M}
%\setjamainfont{M+ 1p}
%\setjasansfont{M+ 1p}
%\setmonofont{M+ 1m}
%% LuaLaTeX-ja こっちの方が綺麗かも…
%\setmainjfont[BoldFont=IPAexGothic]{IPAexMincho}
%\setsansjfont{IPAexGothic}
%\setmonofont{IPAexGothic}
%\setmainjfont[BoldFont=MogaMinExB]{MogaMinEx}
%\setsansjfont{MogaGoEx}
%\setmonofont{MogaGo}
\setmainjfont[BoldFont=SourceHanSerifJP-Bold]{SourceHanSerifJP-Light}
\setsansjfont{SourceHanSansJP-Light}
\setmonofont{SourceCodePro-Light}
%\setmainjfont[BoldFont=YOzNb]{YOzN}
%\setsansjfont{YOzNb}
%\setmonofont{YOzNF}
%\setmainjfont[BoldFont=Ume P Gothic]{Ume P Mincho}
%\setsansjfont{Ume P Gothic}
%\setmonofont{Ume Gothic}
%\setmainjfont[BoldFont=TakaoPGothic]{TakaoPMincho}
%\setsansjfont{TakaoPGothic}
%\setmonofont{TakaoGothic}
%\setmainjfont[BoldFont=mikachan-PB]{mikachan-P}
%\setsansjfont{mikachan-PB}
%\setmonofont{mikachan}
%\setmainjfont{Migu 1P}
%\setsansjfont{Migu 1P}
%\setmonofont{Migu 1M}
%\setmainjfont{M+ 1p}
%\setsansjfont{M+ 1p}
%\setmonofont{M+ 1m}
\makeatletter
\newif\ifpapersize
\newif\if@jsclass
\newif\iftombow
%% \ruby対策 %%
\@ifundefined{kanjiskip}{\newlength\kanjiskip}{}%
\@ifundefined{xkanjiskip}{\newlength\xkanjiskip}{}%
%%%%%%%%%%%%%%
\@ifundefined{zh}{\newlength\zh}{}%
\makeatother
\setlength{\zh}{1\zw}
\usepackage{emath,EMproof,emathMw}
%% edaenumerate環境の上部の間隔設定 edatopsep=-1\zh
%---- mathabx使用時に指定
\let\therefore\relax
\let\because\relax
\usepackage{mathabx}%
%---------------------
%\usepackage{newtxmath,newtxtext}%
%\usepackage{mathptmx}%newtxの方がいいかな？
\let\EMforeach=\foreach
\MWsep{4pt}%
\usepackage{hyperref}
\usepackage[enumitem]{tikzxelatexsetup}
\hypersetup{%
 bookmarkstype=toc,%
 bookmarksnumbered=true,%
 colorlinks=true,%
 urlcolor=blue,%
 linkcolor=blue,%
 setpagesize=false,%
 pdftitle={},%
 pdfauthor={飯島　徹},%
 pdfsubject={},%
 pdfkeywords={2017年,平成29年,前期,二次試験,数学,問題,詳解}%
}%
%\title{{\XeLaTeX}で日本語文書}
%\author{七篠\ 権兵衛}
% \today の出力はJSクラスと同様に西暦になる
%(1)二行ならべる
%(2)ベースライン間の距離が\baselineskipになるようにする
%(3)上の行の「下端」と下の行の「上端」の間の縦方向の距離を測る
%(4)(3)で測定した値と\lineskiplimitを比較する
%(4-1)(3)の値>\lineskipならばそのまま
%(4-2)そうでなければ，上の行の「下端」と下の行の「上端」の間を\lineskipにする
\pagestyle{myfoot}%
\lineskiplimit=1pt\relax
\lineskip=2pt\relax
\Attentionlineskiplimit=\lineskiplimit\relax
\Attentionlineskip=\lineskip\relax
\pgfrealjobname{filename}%
\SetPath{前期/}%
%\includeonly{}%
%\listfiles%読み込まれていファイルリストをlogファイルの*File List*以降に表示させる
\begin{document}
\end{document}